<div *ngIf="!customerService.userData?.status">
  {{ customerService.userData?.message}}
</div>

<div *ngIf="userData?.fullname">
  <div class="mb-4 ms-2 text-md-start text-center mt-4">
    <h2 class="text">{{ userData.fullname }}</h2>
    <p><b>Phoebus Reference Number: {{ userData.memberid }}</b></p>
  </div>


  <div class="row g-3 d-flex">
    <div class="col-md-6">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" [value]="userData.emailid" readonly />
    </div>
    <div class="col-md-6">
      <label class="form-label">Phone Number</label>
      <div class="input-group">
        <select class="form-select select-box" disabled>
          <option selected>+44</option>
        </select>
        <input type="number" class="form-control phone-input" [value]="userData.mobileno" readonly />
      </div>
    </div>
    <div class="col-md-6" *ngIf="userData.online_customersid">
      <label class="form-label">Online Customers ID</label>
      <input type="email" class="form-control" [value]="userData.online_customersid" readonly />
    </div>
    <div class="col-md-6">
      <label class="form-label">Date of Birth</label>
      <input type="date" class="form-control" [value]="userData.dob" readonly />
    </div>
    <div class="col-md-6">
      <label class="form-label">Address</label>
      <input type="text" class="form-control" [value]="userData.address" readonly />
    </div>
  </div>


  <div class="mt-4 d-flex gap-3 flex-wrap">
    <button class="btn px-5" [ngClass]="isBlocked() ? 'btn-success' : 'btn-custom text-white'"
      (click)="openBlockModal()">
      {{ isBlocked() ? 'Activate' : 'Block' }}
    </button>

    <button class="btn btn-danger px-5" (click)="openDeleteModal()">Delete</button>
  </div>
</div>


<div *ngIf="showModal" class="modal-backdrop">
  <div class="modal-box">
    <h5 class="mb-3">{{ actionMode === 'block' ? 'Block Customer' : 'Activate Customer' }}</h5>
    <p>Would you like to {{ actionMode === 'block' ? 'Block' : 'Activate' }} this customer?</p>

    <div *ngIf="actionMode === 'block'" class="mb-3">
      <input type="text" class="form-control" placeholder="Please specify the reason" [(ngModel)]="reason" />
    </div>

    <div class="text-danger mb-2" *ngIf="message">{{ message }}</div>

    <div class="d-flex justify-content-end gap-3">
      <button class="btn btn-secondary" (click)="closeModal()">Cancel</button>
      <button class="btn" [ngClass]="actionMode === 'block' ? 'btn-primary' : 'btn-success'" (click)="confirmAction()">
        {{ actionMode === 'block' ? 'Block' : 'Activate' }}
      </button>
    </div>
  </div>
</div>


<div *ngIf="showDeleteModal" class="modal-backdrop">
  <div class="modal-box">
    <h5 class="mb-3">Delete Customer</h5>
    <p>Would you like to delete this customer?</p>
    <div class="mb-3">
      <input type="text" class="form-control" placeholder="Please enter reason for deletion"
        [(ngModel)]="deleteReason" />
    </div>
    <div class="text-danger mb-2" *ngIf="deleteMessage">{{ deleteMessage }}</div>

    <div class="d-flex justify-content-end gap-3">
      <button class="btn btn-secondary" (click)="closeDeleteModal()">Cancel</button>
      <button class="btn btn-danger" (click)="confirmDelete()">Delete</button>
    </div>
  </div>
</div>


<ng-template #noData>
  <p class="text-center mt-5">No user data found. Please search first.</p>
</ng-template>